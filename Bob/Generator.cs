using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace Bob
{
    public class Generator
    {
        Dictionary<string, List<Tuple<string, double>>> chain;
        Random random;

        public Generator()
        {
            chain = new Dictionary<string, List<Tuple<string, double>>>();
            LearnEnglish(chain);

            random = new Random();
        }


        public string Generate(int minimumLength, int maximumLength)
        {
            var length = random.Next(minimumLength, maximumLength + 1);
            return Generate(length);
        }

        public string Generate(int length)
        {
            var word = new StringBuilder();
            var previousLetter = chain.Keys.Skip(random.Next(0,chain.Keys.Count)).First();
            word.Append(previousLetter);
            while (word.Length < length)
            {
                var links = chain[previousLetter];
                var selector = random.NextDouble();
                var threshold = 0.0;
                var letter = default(string);
                foreach (var link in links)
                {
                    threshold += link.Item2;
                    if (selector <= threshold)
                    {
                        letter = link.Item1;
                        break;
                    }
                }
                word.Append(letter);
                previousLetter = letter;
            }

            return word.ToString();
        }

        private void LearnEnglish(Dictionary<string, List<Tuple<string, double>>> chain)
        {
            Add(chain, "a", "a", 0.00121506682867558);
            Add(chain, "b", "a", 0.0743243243243243);
            Add(chain, "c", "a", 0.135371179039301);
            Add(chain, "d", "a", 0.100418410041841);
            Add(chain, "e", "a", 0.0889248181083266);
            Add(chain, "f", "a", 0.112107623318386);
            Add(chain, "g", "a", 0.115384615384615);
            Add(chain, "h", "a", 0.177018633540373);
            Add(chain, "i", "a", 0.014792899408284);
            Add(chain, "j", "a", 0.111111111111111);
            Add(chain, "k", "a", 0.0705882352941176);
            Add(chain, "l", "a", 0.10230179028133);
            Add(chain, "m", "a", 0.174603174603175);
            Add(chain, "n", "a", 0.0567375886524823);
            Add(chain, "o", "a", 0.0208604954367666);
            Add(chain, "p", "a", 0.144654088050314);
            Add(chain, "r", "a", 0.0907441016333938);
            Add(chain, "s", "a", 0.108414239482201);
            Add(chain, "t", "a", 0.0641304347826087);
            Add(chain, "u", "a", 0.0241379310344828);
            Add(chain, "v", "a", 0.0581395348837209);
            Add(chain, "w", "a", 0.261904761904762);
            Add(chain, "x", "a", 0.0833333333333333);
            Add(chain, "y", "a", 0.0923076923076923);
            Add(chain, "z", "a", 0.2);
            Add(chain, "a", "b", 0.0243013365735115);
            Add(chain, "b", "b", 0.00675675675675676);
            Add(chain, "d", "b", 0.0418410041841004);
            Add(chain, "e", "b", 0.0185933710590137);
            Add(chain, "f", "b", 0.00896860986547085);
            Add(chain, "g", "b", 0.0144230769230769);
            Add(chain, "h", "b", 0.0031055900621118);
            Add(chain, "i", "b", 0.00739644970414201);
            Add(chain, "k", "b", 0.0117647058823529);
            Add(chain, "l", "b", 0.00767263427109974);
            Add(chain, "m", "b", 0.0277777777777778);
            Add(chain, "n", "b", 0.0099290780141844);
            Add(chain, "o", "b", 0.015645371577575);
            Add(chain, "p", "b", 0.00628930817610063);
            Add(chain, "r", "b", 0.0127041742286751);
            Add(chain, "s", "b", 0.0177993527508091);
            Add(chain, "t", "b", 0.0108695652173913);
            Add(chain, "u", "b", 0.0172413793103448);
            Add(chain, "w", "b", 0.00396825396825397);
            Add(chain, "y", "b", 0.0358974358974359);
            Add(chain, "a", "c", 0.040097205346294);
            Add(chain, "c", "c", 0.0174672489082969);
            Add(chain, "d", "c", 0.0188284518828452);
            Add(chain, "e", "c", 0.0363783346806791);
            Add(chain, "f", "c", 0.0134529147982063);
            Add(chain, "g", "c", 0.00961538461538462);
            Add(chain, "h", "c", 0.0031055900621118);
            Add(chain, "i", "c", 0.0473372781065089);
            Add(chain, "k", "c", 0.0117647058823529);
            Add(chain, "l", "c", 0.0051150895140665);
            Add(chain, "m", "c", 0.00396825396825397);
            Add(chain, "n", "c", 0.0354609929078014);
            Add(chain, "o", "c", 0.0169491525423729);
            Add(chain, "r", "c", 0.0181488203266788);
            Add(chain, "s", "c", 0.0275080906148867);
            Add(chain, "t", "c", 0.0119565217391304);
            Add(chain, "u", "c", 0.0413793103448276);
            Add(chain, "w", "c", 0.00396825396825397);
            Add(chain, "x", "c", 0.166666666666667);
            Add(chain, "y", "c", 0.0307692307692308);
            Add(chain, "a", "d", 0.06318347509113);
            Add(chain, "d", "d", 0.0271966527196653);
            Add(chain, "e", "d", 0.101859337105901);
            Add(chain, "f", "d", 0.00896860986547085);
            Add(chain, "g", "d", 0.00961538461538462);
            Add(chain, "h", "d", 0.0015527950310559);
            Add(chain, "i", "d", 0.0488165680473373);
            Add(chain, "k", "d", 0.0117647058823529);
            Add(chain, "l", "d", 0.0920716112531969);
            Add(chain, "m", "d", 0.00396825396825397);
            Add(chain, "n", "d", 0.20709219858156);
            Add(chain, "o", "d", 0.0234680573663625);
            Add(chain, "r", "d", 0.0362976406533575);
            Add(chain, "s", "d", 0.0113268608414239);
            Add(chain, "t", "d", 0.00760869565217391);
            Add(chain, "u", "d", 0.0241379310344828);
            Add(chain, "w", "d", 0.00793650793650794);
            Add(chain, "y", "d", 0.0307692307692308);
            Add(chain, "b", "e", 0.317567567567568);
            Add(chain, "c", "e", 0.165938864628821);
            Add(chain, "d", "e", 0.119246861924686);
            Add(chain, "e", "e", 0.0388035569927243);
            Add(chain, "f", "e", 0.0896860986547085);
            Add(chain, "g", "e", 0.134615384615385);
            Add(chain, "h", "e", 0.468944099378882);
            Add(chain, "i", "e", 0.0340236686390533);
            Add(chain, "j", "e", 0.111111111111111);
            Add(chain, "k", "e", 0.341176470588235);
            Add(chain, "l", "e", 0.163682864450128);
            Add(chain, "m", "e", 0.26984126984127);
            Add(chain, "n", "e", 0.0936170212765957);
            Add(chain, "o", "e", 0.00651890482398957);
            Add(chain, "p", "e", 0.188679245283019);
            Add(chain, "r", "e", 0.241379310344828);
            Add(chain, "s", "e", 0.119741100323625);
            Add(chain, "t", "e", 0.0815217391304348);
            Add(chain, "u", "e", 0.0241379310344828);
            Add(chain, "v", "e", 0.755813953488372);
            Add(chain, "w", "e", 0.154761904761905);
            Add(chain, "x", "e", 0.0833333333333333);
            Add(chain, "y", "e", 0.0717948717948718);
            Add(chain, "z", "e", 0.6);
            Add(chain, "a", "f", 0.0145808019441069);
            Add(chain, "d", "f", 0.0230125523012552);
            Add(chain, "e", "f", 0.0242522231204527);
            Add(chain, "f", "f", 0.0493273542600897);
            Add(chain, "g", "f", 0.0144230769230769);
            Add(chain, "h", "f", 0.0031055900621118);
            Add(chain, "i", "f", 0.0251479289940828);
            Add(chain, "k", "f", 0.0117647058823529);
            Add(chain, "l", "f", 0.0255754475703325);
            Add(chain, "m", "f", 0.00793650793650794);
            Add(chain, "n", "f", 0.0113475177304965);
            Add(chain, "o", "f", 0.104302477183833);
            Add(chain, "p", "f", 0.00628930817610063);
            Add(chain, "r", "f", 0.014519056261343);
            Add(chain, "s", "f", 0.0177993527508091);
            Add(chain, "t", "f", 0.00978260869565217);
            Add(chain, "u", "f", 0.00689655172413793);
            Add(chain, "w", "f", 0.00396825396825397);
            Add(chain, "y", "f", 0.0358974358974359);
            Add(chain, "a", "g", 0.0218712029161604);
            Add(chain, "d", "g", 0.0146443514644351);
            Add(chain, "e", "g", 0.0121261115602264);
            Add(chain, "f", "g", 0.00448430493273543);
            Add(chain, "g", "g", 0.0192307692307692);
            Add(chain, "h", "g", 0.0015527950310559);
            Add(chain, "i", "g", 0.0369822485207101);
            Add(chain, "l", "g", 0.00255754475703325);
            Add(chain, "m", "g", 0.00396825396825397);
            Add(chain, "n", "g", 0.130496453900709);
            Add(chain, "o", "g", 0.0091264667535854);
            Add(chain, "r", "g", 0.0181488203266788);
            Add(chain, "s", "g", 0.00647249190938511);
            Add(chain, "t", "g", 0.00326086956521739);
            Add(chain, "u", "g", 0.0482758620689655);
            Add(chain, "y", "g", 0.0153846153846154);
            Add(chain, "a", "h", 0.00607533414337789);
            Add(chain, "c", "h", 0.165938864628821);
            Add(chain, "d", "h", 0.0523012552301255);
            Add(chain, "e", "h", 0.026677445432498);
            Add(chain, "f", "h", 0.0358744394618834);
            Add(chain, "g", "h", 0.168269230769231);
            Add(chain, "h", "h", 0.0093167701863354);
            Add(chain, "i", "h", 0.00887573964497041);
            Add(chain, "k", "h", 0.0235294117647059);
            Add(chain, "l", "h", 0.010230179028133);
            Add(chain, "m", "h", 0.0119047619047619);
            Add(chain, "n", "h", 0.0226950354609929);
            Add(chain, "o", "h", 0.0143415906127771);
            Add(chain, "p", "h", 0.0188679245283019);
            Add(chain, "r", "h", 0.0217785843920145);
            Add(chain, "s", "h", 0.0809061488673139);
            Add(chain, "t", "h", 0.358695652173913);
            Add(chain, "u", "h", 0.00689655172413793);
            Add(chain, "w", "h", 0.174603174603175);
            Add(chain, "y", "h", 0.0512820512820513);
            Add(chain, "a", "i", 0.0473876063183475);
            Add(chain, "b", "i", 0.0405405405405405);
            Add(chain, "c", "i", 0.0436681222707424);
            Add(chain, "d", "i", 0.104602510460251);
            Add(chain, "e", "i", 0.0331447049312854);
            Add(chain, "f", "i", 0.103139013452915);
            Add(chain, "g", "i", 0.0865384615384615);
            Add(chain, "h", "i", 0.150621118012422);
            Add(chain, "i", "i", 0.0014792899408284);
            Add(chain, "j", "i", 0.166666666666667);
            Add(chain, "k", "i", 0.164705882352941);
            Add(chain, "l", "i", 0.120204603580563);
            Add(chain, "m", "i", 0.0992063492063492);
            Add(chain, "n", "i", 0.0468085106382979);
            Add(chain, "o", "i", 0.015645371577575);
            Add(chain, "p", "i", 0.0754716981132075);
            Add(chain, "r", "i", 0.0907441016333938);
            Add(chain, "s", "i", 0.0792880258899676);
            Add(chain, "t", "i", 0.0826086956521739);
            Add(chain, "u", "i", 0.0275862068965517);
            Add(chain, "v", "i", 0.127906976744186);
            Add(chain, "w", "i", 0.154761904761905);
            Add(chain, "x", "i", 0.166666666666667);
            Add(chain, "y", "i", 0.0564102564102564);
            Add(chain, "z", "i", 0.2);
            Add(chain, "a", "j", 0.00121506682867558);
            Add(chain, "b", "j", 0.00675675675675676);
            Add(chain, "d", "j", 0.00627615062761506);
            Add(chain, "e", "j", 0.00242522231204527);
            Add(chain, "f", "j", 0.00448430493273543);
            Add(chain, "g", "j", 0.00480769230769231);
            Add(chain, "i", "j", 0.0014792899408284);
            Add(chain, "n", "j", 0.00283687943262411);
            Add(chain, "o", "j", 0.00130378096479791);
            Add(chain, "r", "j", 0.00181488203266788);
            Add(chain, "s", "j", 0.00323624595469256);
            Add(chain, "t", "j", 0.00108695652173913);
            Add(chain, "y", "j", 0.00512820512820513);
            Add(chain, "a", "k", 0.0145808019441069);
            Add(chain, "c", "k", 0.0786026200873362);
            Add(chain, "d", "k", 0.00209205020920502);
            Add(chain, "e", "k", 0.00404203718674212);
            Add(chain, "i", "k", 0.0118343195266272);
            Add(chain, "l", "k", 0.00767263427109974);
            Add(chain, "n", "k", 0.0113475177304965);
            Add(chain, "o", "k", 0.0169491525423729);
            Add(chain, "r", "k", 0.014519056261343);
            Add(chain, "s", "k", 0.00970873786407767);
            Add(chain, "t", "k", 0.00217391304347826);
            Add(chain, "u", "k", 0.00344827586206897);
            Add(chain, "y", "k", 0.00512820512820513);
            Add(chain, "a", "l", 0.0692588092345079);
            Add(chain, "b", "l", 0.114864864864865);
            Add(chain, "c", "l", 0.0393013100436681);
            Add(chain, "d", "l", 0.0230125523012552);
            Add(chain, "e", "l", 0.0444624090541633);
            Add(chain, "f", "l", 0.0358744394618834);
            Add(chain, "g", "l", 0.0336538461538462);
            Add(chain, "h", "l", 0.0031055900621118);
            Add(chain, "i", "l", 0.0547337278106509);
            Add(chain, "k", "l", 0.0235294117647059);
            Add(chain, "l", "l", 0.143222506393862);
            Add(chain, "m", "l", 0.00396825396825397);
            Add(chain, "n", "l", 0.0127659574468085);
            Add(chain, "o", "l", 0.0338983050847458);
            Add(chain, "p", "l", 0.0943396226415094);
            Add(chain, "r", "l", 0.0181488203266788);
            Add(chain, "s", "l", 0.0210355987055016);
            Add(chain, "t", "l", 0.0184782608695652);
            Add(chain, "u", "l", 0.117241379310345);
            Add(chain, "w", "l", 0.00793650793650794);
            Add(chain, "y", "l", 0.0205128205128205);
            Add(chain, "a", "m", 0.031591737545565);
            Add(chain, "d", "m", 0.0292887029288703);
            Add(chain, "e", "m", 0.0379951495553759);
            Add(chain, "f", "m", 0.0224215246636771);
            Add(chain, "g", "m", 0.0144230769230769);
            Add(chain, "h", "m", 0.0046583850931677);
            Add(chain, "i", "m", 0.0547337278106509);
            Add(chain, "k", "m", 0.0117647058823529);
            Add(chain, "l", "m", 0.010230179028133);
            Add(chain, "m", "m", 0.0198412698412698);
            Add(chain, "n", "m", 0.0099290780141844);
            Add(chain, "o", "m", 0.0625814863102999);
            Add(chain, "p", "m", 0.00628930817610063);
            Add(chain, "r", "m", 0.0254083484573503);
            Add(chain, "s", "m", 0.0194174757281553);
            Add(chain, "t", "m", 0.0119565217391304);
            Add(chain, "u", "m", 0.0275862068965517);
            Add(chain, "w", "m", 0.00396825396825397);
            Add(chain, "y", "m", 0.0307692307692308);
            Add(chain, "a", "n", 0.219927095990279);
            Add(chain, "d", "n", 0.0334728033472803);
            Add(chain, "e", "n", 0.089733225545675);
            Add(chain, "f", "n", 0.00448430493273543);
            Add(chain, "g", "n", 0.0192307692307692);
            Add(chain, "h", "n", 0.0015527950310559);
            Add(chain, "i", "n", 0.264792899408284);
            Add(chain, "k", "n", 0.105882352941176);
            Add(chain, "l", "n", 0.0051150895140665);
            Add(chain, "m", "n", 0.00793650793650794);
            Add(chain, "n", "n", 0.0113475177304965);
            Add(chain, "o", "n", 0.138200782268579);
            Add(chain, "r", "n", 0.029038112522686);
            Add(chain, "s", "n", 0.0161812297734628);
            Add(chain, "t", "n", 0.00760869565217391);
            Add(chain, "u", "n", 0.124137931034483);
            Add(chain, "w", "n", 0.0476190476190476);
            Add(chain, "y", "n", 0.0153846153846154);
            Add(chain, "a", "o", 0.0012150668286758);
            Add(chain, "b", "o", 0.128378378378378);
            Add(chain, "c", "o", 0.196506550218341);
            Add(chain, "d", "o", 0.0857740585774059);
            Add(chain, "e", "o", 0.026677445432498);
            Add(chain, "f", "o", 0.179372197309417);
            Add(chain, "g", "o", 0.110576923076923);
            Add(chain, "h", "o", 0.0760869565217391);
            Add(chain, "i", "o", 0.0355029585798817);
            Add(chain, "j", "o", 0.166666666666667);
            Add(chain, "k", "o", 0.0470588235294118);
            Add(chain, "l", "o", 0.104859335038363);
            Add(chain, "m", "o", 0.115079365079365);
            Add(chain, "n", "o", 0.0851063829787234);
            Add(chain, "o", "o", 0.0469361147327249);
            Add(chain, "p", "o", 0.132075471698113);
            Add(chain, "r", "o", 0.0998185117967332);
            Add(chain, "s", "o", 0.0922330097087379);
            Add(chain, "t", "o", 0.125);
            Add(chain, "u", "o", 0.00344827586206897);
            Add(chain, "v", "o", 0.0465116279069767);
            Add(chain, "w", "o", 0.115079365079365);
            Add(chain, "y", "o", 0.184615384615385);
            Add(chain, "a", "p", 0.0243013365735115);
            Add(chain, "d", "p", 0.0125523012552301);
            Add(chain, "e", "p", 0.0226354082457559);
            Add(chain, "f", "p", 0.00896860986547085);
            Add(chain, "g", "p", 0.00480769230769231);
            Add(chain, "h", "p", 0.0015527950310559);
            Add(chain, "i", "p", 0.00887573964497041);
            Add(chain, "l", "p", 0.00767263427109974);
            Add(chain, "m", "p", 0.0436507936507936);
            Add(chain, "n", "p", 0.00567375886524823);
            Add(chain, "o", "p", 0.0195567144719687);
            Add(chain, "p", "p", 0.0628930817610063);
            Add(chain, "r", "p", 0.0108892921960073);
            Add(chain, "s", "p", 0.0323624595469256);
            Add(chain, "t", "p", 0.00434782608695652);
            Add(chain, "u", "p", 0.0551724137931034);
            Add(chain, "x", "p", 0.25);
            Add(chain, "y", "p", 0.0205128205128205);
            Add(chain, "a", "q", 0.00121506682867558);
            Add(chain, "c", "q", 0.00436681222707424);
            Add(chain, "e", "q", 0.00161681487469685);
            Add(chain, "n", "q", 0.00141843971631206);
            Add(chain, "s", "q", 0.00323624595469256);
            Add(chain, "a", "r", 0.0911300121506683);
            Add(chain, "b", "r", 0.0743243243243243);
            Add(chain, "c", "r", 0.0480349344978166);
            Add(chain, "d", "r", 0.0292887029288703);
            Add(chain, "e", "r", 0.136620856911884);
            Add(chain, "f", "r", 0.0717488789237668);
            Add(chain, "g", "r", 0.0576923076923077);
            Add(chain, "h", "r", 0.0124223602484472);
            Add(chain, "i", "r", 0.0399408284023669);
            Add(chain, "l", "r", 0.0051150895140665);
            Add(chain, "m", "r", 0.0119047619047619);
            Add(chain, "n", "r", 0.00425531914893617);
            Add(chain, "o", "r", 0.109517601043025);
            Add(chain, "p", "r", 0.113207547169811);
            Add(chain, "r", "r", 0.0254083484573503);
            Add(chain, "s", "r", 0.00647249190938511);
            Add(chain, "t", "r", 0.0304347826086957);
            Add(chain, "u", "r", 0.151724137931034);
            Add(chain, "w", "r", 0.0119047619047619);
            Add(chain, "y", "r", 0.0153846153846154);
            Add(chain, "a", "s", 0.11543134872418);
            Add(chain, "b", "s", 0.0135135135135135);
            Add(chain, "c", "s", 0.00436681222707424);
            Add(chain, "d", "s", 0.0732217573221757);
            Add(chain, "e", "s", 0.0929668552950687);
            Add(chain, "f", "s", 0.0224215246636771);
            Add(chain, "g", "s", 0.0432692307692308);
            Add(chain, "h", "s", 0.0077639751552795);
            Add(chain, "i", "s", 0.127218934911243);
            Add(chain, "k", "s", 0.0588235294117647);
            Add(chain, "l", "s", 0.0281329923273657);
            Add(chain, "m", "s", 0.0396825396825397);
            Add(chain, "n", "s", 0.0468085106382979);
            Add(chain, "o", "s", 0.0365058670143416);
            Add(chain, "p", "s", 0.0314465408805031);
            Add(chain, "r", "s", 0.0671506352087114);
            Add(chain, "s", "s", 0.06957928802589);
            Add(chain, "t", "s", 0.0369565217391304);
            Add(chain, "u", "s", 0.120689655172414);
            Add(chain, "w", "s", 0.0158730158730159);
            Add(chain, "y", "s", 0.0974358974358974);
            Add(chain, "a", "t", 0.12636695018226);
            Add(chain, "b", "t", 0.00675675675675676);
            Add(chain, "c", "t", 0.0655021834061135);
            Add(chain, "d", "t", 0.117154811715481);
            Add(chain, "e", "t", 0.0670978172999192);
            Add(chain, "f", "t", 0.165919282511211);
            Add(chain, "g", "t", 0.0769230769230769);
            Add(chain, "h", "t", 0.0496894409937888);
            Add(chain, "i", "t", 0.137573964497041);
            Add(chain, "k", "t", 0.0470588235294118);
            Add(chain, "l", "t", 0.0383631713554987);
            Add(chain, "m", "t", 0.0357142857142857);
            Add(chain, "n", "t", 0.150354609929078);
            Add(chain, "o", "t", 0.0743155149934811);
            Add(chain, "p", "t", 0.0691823899371069);
            Add(chain, "r", "t", 0.0762250453720508);
            Add(chain, "s", "t", 0.176375404530744);
            Add(chain, "t", "t", 0.0608695652173913);
            Add(chain, "u", "t", 0.16551724137931);
            Add(chain, "w", "t", 0.0158730158730159);
            Add(chain, "x", "t", 0.25);
            Add(chain, "y", "t", 0.102564102564103);
            Add(chain, "a", "u", 0.0109356014580802);
            Add(chain, "b", "u", 0.141891891891892);
            Add(chain, "c", "u", 0.0305676855895196);
            Add(chain, "d", "u", 0.0209205020920502);
            Add(chain, "e", "u", 0.00485044462409054);
            Add(chain, "f", "u", 0.0358744394618834);
            Add(chain, "g", "u", 0.0336538461538462);
            Add(chain, "h", "u", 0.0124223602484472);
            Add(chain, "i", "u", 0.0014792899408284);
            Add(chain, "j", "u", 0.444444444444444);
            Add(chain, "k", "u", 0.0117647058823529);
            Add(chain, "l", "u", 0.020460358056266);
            Add(chain, "m", "u", 0.0317460317460317);
            Add(chain, "n", "u", 0.00851063829787234);
            Add(chain, "o", "u", 0.14993481095176);
            Add(chain, "p", "u", 0.0377358490566038);
            Add(chain, "q", "u", 1);
            Add(chain, "r", "u", 0.0217785843920145);
            Add(chain, "s", "u", 0.0323624595469256);
            Add(chain, "t", "u", 0.0184782608695652);
            Add(chain, "w", "u", 0.00396825396825397);
            Add(chain, "y", "u", 0.00512820512820513);
            Add(chain, "a", "v", 0.0243013365735115);
            Add(chain, "d", "v", 0.00418410041841004);
            Add(chain, "e", "v", 0.0194017784963622);
            Add(chain, "i", "v", 0.0207100591715976);
            Add(chain, "l", "v", 0.00767263427109974);
            Add(chain, "n", "v", 0.00283687943262411);
            Add(chain, "o", "v", 0.015645371577575);
            Add(chain, "r", "v", 0.00725952813067151);
            Add(chain, "s", "v", 0.00323624595469256);
            Add(chain, "t", "v", 0.00108695652173913);
            Add(chain, "y", "v", 0.00512820512820513);
            Add(chain, "a", "w", 0.0157958687727825);
            Add(chain, "d", "w", 0.0397489539748954);
            Add(chain, "e", "w", 0.0404203718674212);
            Add(chain, "f", "w", 0.0134529147982063);
            Add(chain, "g", "w", 0.0240384615384615);
            Add(chain, "h", "w", 0.0062111801242236);
            Add(chain, "i", "w", 0.0103550295857988);
            Add(chain, "k", "w", 0.0235294117647059);
            Add(chain, "l", "w", 0.0127877237851662);
            Add(chain, "m", "w", 0.0158730158730159);
            Add(chain, "n", "w", 0.0170212765957447);
            Add(chain, "o", "w", 0.059973924380704);
            Add(chain, "p", "w", 0.00628930817610063);
            Add(chain, "r", "w", 0.0199637023593466);
            Add(chain, "s", "w", 0.0388349514563107);
            Add(chain, "t", "w", 0.033695652173913);
            Add(chain, "u", "w", 0.00689655172413793);
            Add(chain, "w", "w", 0.00793650793650794);
            Add(chain, "y", "w", 0.0615384615384615);
            Add(chain, "a", "x", 0.00121506682867558);
            Add(chain, "e", "x", 0.00727566693613581);
            Add(chain, "i", "x", 0.0029585798816568);
            Add(chain, "a", "y", 0.031591737545565);
            Add(chain, "b", "y", 0.0743243243243243);
            Add(chain, "c", "y", 0.00436681222707424);
            Add(chain, "d", "y", 0.0209205020920502);
            Add(chain, "e", "y", 0.021018593371059);
            Add(chain, "f", "y", 0.00896860986547085);
            Add(chain, "g", "y", 0.00480769230769231);
            Add(chain, "h", "y", 0.0062111801242236);
            Add(chain, "k", "y", 0.0235294117647059);
            Add(chain, "l", "y", 0.0792838874680307);
            Add(chain, "m", "y", 0.0714285714285714);
            Add(chain, "n", "y", 0.0156028368794326);
            Add(chain, "o", "y", 0.00651890482398957);
            Add(chain, "p", "y", 0.00628930817610063);
            Add(chain, "r", "y", 0.0381125226860254);
            Add(chain, "s", "y", 0.00647249190938511);
            Add(chain, "t", "y", 0.0173913043478261);
            Add(chain, "u", "y", 0.00344827586206897);
            Add(chain, "v", "y", 0.0116279069767442);
            Add(chain, "w", "y", 0.00396825396825397);
            Add(chain, "y", "y", 0.0102564102564103);
            Add(chain, "a", "z", 0.00121506682867558);
            Add(chain, "i", "z", 0.0029585798816568);
            Add(chain, "o", "z", 0.00130378096479791);
        }

        private void Add(Dictionary<string,List<Tuple<string, double>>> chain, string current, string next, double probability)
        {
            var links = default(List<Tuple<string, double>>);
            if (!chain.TryGetValue(current, out links))
            {
                links = new List<Tuple<string, double>>();
                chain.Add(current, links);
            }
            var link = new Tuple<string, double>(next, probability);
            links.Add(link);
        }
    }
}
